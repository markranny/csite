{% extends 'bakeshop/base.html' %}
{% load bakeshop_tags %}
{% load static %}

{% block title %}About Us - {{ site_settings.site_name }}{% endblock %}

{% block extra_css %}

{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="about-hero" style="background-image: url('{% static 'images/about-bg.jpg' %}');">
    <div class="about-hero-overlay"></div>
    <div class="container">
        <div class="about-hero-content">
            <h1>Our Story</h1>
            <p>Discover the passion behind ELJIN SUPERBAKESHOP and our commitment to quality baking since 1998</p>
        </div>
    </div>
</section>

<!-- Our Story Section -->
{% if sections.story %}
<section class="about-section">
    <div class="container">
        <div class="section-title">
            <h2>{{ sections.story.title }}</h2>
        </div>
        
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="story-image">
                    {% if sections.story.image %}
                        <img src="{{ sections.story.image.url }}" alt="Our Story">
                    {% else %}
                        <img src="{% static 'images/story.jpg' %}" alt="Our Story">
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-6">
                <div class="story-content">
                    {{ sections.story.content|safe }}
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Core Values Section -->
{% if sections.values %}
<section class="about-section values-section">
    <div class="container">
        <div class="section-title">
            <h2>{{ sections.values.title }}</h2>
        </div>
        
        <div class="row">
            <div class="col-md-4">
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3>Passion</h3>
                    <p>We pour our hearts into every creation, ensuring each pastry is crafted with love and dedication.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Quality</h3>
                    <p>We use only premium ingredients and maintain high standards to deliver exceptional products.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3>Innovation</h3>
                    <p>We continuously explore new recipes and techniques to bring creative and delicious offerings to our customers.</p>
                </div>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-12">
                <div class="values-content">
                    {{ sections.values.content|safe }}
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Mission & Vision Section -->
{% if sections.mission %}
<section class="about-section">
    <div class="container">
        <div class="section-title">
            <h2>{{ sections.mission.title }}</h2>
        </div>
        
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <div class="mission-content">
                    {{ sections.mission.content|safe }}
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Team Section -->
<section class="about-section">
    <div class="container">
        <div class="section-title">
            <h2>Meet Our Team</h2>
            <p>The talented people behind our delicious creations</p>
        </div>
        
        <div class="row">
            {% for member in team_members %}
            <div class="col-md-4">
                <div class="team-member">
                    <div class="team-image">
                        <img src="{{ member.image.url }}" alt="{{ member.name }}">
                    </div>
                    <h3>{{ member.name }}</h3>
                    <p class="position">{{ member.position }}</p>
                    <p class="bio">{{ member.bio|truncate_chars:150 }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Awards Section -->
{% if awards %}
<section class="about-section awards-section">
    <div class="container">
        <div class="section-title">
            <h2>Our Achievements</h2>
            <p>Recognition of our commitment to excellence</p>
        </div>
        
        <div class="row">
            {% for award in awards %}
            <div class="col-md-4">
                <div class="award-card">
                    <div class="award-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="award-year">{{ award.year }}</div>
                    <h3>{{ award.title }}</h3>
                    <p>{{ award.organization }}</p>
                    {% if award.description %}
                    <p>{{ award.description|truncate_chars:100 }}</p>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Quality Commitment Section -->
{% if sections.quality %}
<section class="about-section values-section">
    <div class="container">
        <div class="section-title">
            <h2>{{ sections.quality.title }}</h2>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mx-auto">
                <div class="quality-content">
                    {{ sections.quality.content|safe }}
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Timeline Section -->
{% if timeline_events %}
<section class="about-section timeline-section">
    <div class="container">
        <div class="section-title">
            <h2>Our Journey</h2>
            <p>The milestones that shaped our bakery through the years</p>
        </div>
        
        <div class="timeline">
            {% for event in timeline_events %}
            <div class="timeline-item">
                <div class="timeline-dot"></div>
                <div class="timeline-year">{{ event.year }}</div>
                <div class="timeline-content">
                    <h3>{{ event.title }}</h3>
                    <p>{{ event.description }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Gallery Section -->
{% if gallery_images %}
<section class="about-section">
    <div class="container">
        <div class="section-title">
            <h2>Photo Gallery</h2>
            <p>A glimpse into our bakery world</p>
        </div>
        
        <div class="row">
            {% for image in gallery_images %}
            <div class="col-md-4 mb-4">
                <div class="gallery-item">
                    <img src="{{ image.image.url }}" alt="{{ image.title }}" class="img-fluid rounded">
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Smooth scrolling
        const scrollLinks = document.querySelectorAll('.smooth-scroll');
        for (const link of scrollLinks) {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                }
            });
        }
    });
</script>
{% endblock %}